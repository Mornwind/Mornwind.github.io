{"posts":[{"title":"「少女前线」跨服配置（Surge 4 / Quan X / Loon）（iOS客户端 → 安卓国服）","content":" By: Mornwind GitHub Link: GF_Region_Switcher 参考来源 ① 霞ヶ丘詩羽x：B站专栏（cv3630717） ⚠️ 注意事项 ⚠️ 本项目内所提到的所有客户端与服务器，均为国服。 目前本人尚未研究渠道服的跨服，故本项目暂时只支持官服跨服。日后若有时间研究且能写得出来，会尽量加进本项目。 跨服脚本中并未含有用于修改游戏内数据以获得不正当收益的作弊内容，只是用来切换服务器，故理论上不会被封号。跨服脚本代码公开透明地存放于本项目中，欢迎随时进行检查。如若不放心，还请另寻他法。 不可跨服充值，否则会充错服，切记。 配置信息 ① Surge 4 / Loon [Script] # 少女前线 跨服 http-request ^http:\\/\\/ios\\.transit\\.gf\\.ppgame\\.com\\/index\\.php requires-body=1,script-path=https://raw.githubusercontent.com/Mornwind/GF_Region_Switcher/master/gf_region_switcher.js ② Quantumult X [rewrite_local] # 少女前线 跨服 ^http:\\/\\/ios\\.transit\\.gf\\.ppgame\\.com\\/index\\.php url script-request-body gf_region_switcher.js ","link":"https://mornwind.github.io/post/GirlsFrontline-iOS-Switch-Server-Profile/"},{"title":"「崩坏3」跨服教程（Surge 4）（iOS客户端 → 官服服务器）","content":" By: Mornwind GitHub Link: BH3_Region_Selector 前言 作为一个晚登录两三天没能拿到“登录纪念勋章”的安卓国服的甲板老清洁工，自从嫌弃安卓机的卡慢（以及当年月光的光翼特效显示不出来），咬咬牙入了 iPod 和 iPad 之后，便开始发愁：安卓端甲板上的老婆们，要怎么打包带到 iOS 端？ 奈何，米忽悠一直不为 iOS 客户端加上安卓国服的登录入口（反过来也没有）。后来 ME 社跨服包的出现，为我带来了一线光明。找 Msk包子 大佬购入了无需自签的 iOS 端跨服客户端以后，连续用了好几个版本，省去了每周重新自签的麻烦，倒也还算舒服（只不过得每隔三四个版本付一次分发平台的证书费） 。 最近在 TG 上研究 Surge 4 上可用的签到脚本的时候，偶然结识了一位在用 Quantumult X 的大佬“FlintyLemming”，而他的为崩坏3跨服的方法为我指明了另一条道路，也就促使了本项目的诞生。 在跟 Flinty 大佬进行沟通交流的过程中，我也了解到，他在 QuanX 上实现的跨服方法，是借鉴B站一位大佬“霞ヶ丘詩羽x”提供的方案而完成的。而本项目，则是同时借鉴了两位大佬的方法，在 Surge 4 上实现了跨服，同时也为 QuanX 用户提供了另一种自定义方案。 此项目的初衷，就是为了能让常挂代理工具（如：Surge 4、Quantumult X）的玩家，无需频繁开关代理工具，就能在忘掉有这么一回事的情况下，在 iOS 端直接登入安卓国服，玩到自己的老婆们，哦不，陪自己的老婆们玩。 总之，如果你是安卓国服老玩家，目前手边的移动端却只有苹果设备，而你已经在 App Store 中购买了 Surge 4 这款代理工具（或者 Quantumult X、Loon），并且你又需要常挂着代理工具上外网。那么恭喜你，这篇教程简直就是为你量身定做的。 如果未同时满足以上四点，还是不建议你使用本项目。请去查阅“霞ヶ丘詩羽x”大佬的教程使用 Thor HTTP 或者 HTTP Catcher，又或者是直接去 ME 社下载跨服包。 ⚠️ 注意事项 ⚠️ 本项目内所提到的所有客户端与服务器，均为国服。 目前跨服只可在官服之间跨。渠道服由于账号系统不同以及游戏包体中的登录器不同，现阶段没有找到方法跨服，只能通过在PC端上扫码进行登录这种方式，敬请见谅。 **本项目中关于渠道服的部分，仅作学习参考，尚起不到实际用途。**目前在PC端账号密码登录方式的服务器列表中，实际上是包含四个渠道服的，但是全都被官方隐藏了，目前应该是还没准备好（第2点里面已经说了原因）。所以就算手动解除了隐藏状态，也是登录不进去的。 &quot;进阶使用（脚本法）&quot;中，跨服脚本中并未含有用于修改游戏内数据以获得不正当收益的作弊内容，只是用来切换服务器，故理论上不会被封号。跨服脚本代码公开透明地存放于本项目中，欢迎随时进行检查。如若不放心，还请使用&quot;新手使用（重定向法）&quot;，或者另寻他法。 前期准备 账号：安卓国服 系统：iOS 12+ / iPadOS 13+ 工具：Surge 4 （注：Quantumult X、Loon 的方法大同小异） GitHub 项目链接：（可点击跳转） 原版：Mornwind/BH3_Region_Selector 精简版：FlintyLemming/BH3_Region_Selector 方案说明 本项目包含两种方案，请选择适合自己的方案。（可点击跳转） 【方案一】新手使用（重定向法） 默认全平台列表（本身就是完整列表，由官方云端控制，只不过账号密码登录方式中隐藏了渠道服入口）。 仅使用 URL 重定向（URL Rewrite） 功能实现。 原版：Mornwind/BH3_Region_Selector 精简版：FlintyLemming/BH3_Region_Selector 【方案二】进阶使用（脚本法） 自定义服务器列表，可调整顺序、删去多余服务器。 仅使用 脚本（Script） 功能实现。 原版：Mornwind/BH3_Region_Selector 精简版：FlintyLemming/BH3_Region_Selector 操作步骤 第一步 在你的 Surge 4 中配置好根证书，并在系统中启用并信任，然后回到 Surge 4 中启用 MitM 功能。（该步在本教程中不详细教） 第二步 挑选好你想使用的方案，然后在 GitHub 上的项目中找到对应方案所需使用的配置代码。以下可直接点击跳转。 【方案一】新手使用（重定向法） → Surge 4 配置 原版：Mornwind/BH3_Region_Selector 精简版：FlintyLemming/BH3_Region_Selector 【方案二】进阶使用（脚本法） → Surge 4 配置 原版：Mornwind/BH3_Region_Selector 精简版：FlintyLemming/BH3_Region_Selector 第三步 使用任一款编辑器打开你的 Surge 配置文件（.conf），或是直接在 Surge 内点击主界面左上角配置名，打开“配置列表”→”在文本模式中编辑”。 第四步 在配置文件中，将第二步中所获取到的配置代码，分为 [URL Rewrite]、[Script]、[MITM] 三个部分，分别拷贝到配置文件中的对应区域下。 注： 带有 # 的行可以不复制，因为它们只是起到说明作用，或只是暂时注释掉无用的配置。 方案一中有 [URL Rewrite] 一项，须开启 Surge 4 的“Rewrite” 功能；方案二中有 [Script] 一项，须开启 Surge 4 的“脚本” 功能。 若配置文件中的 [MITM] 部分原本已有 hostname = 一行，则不可另起一行，而是要加在原有一行的后面，并以英文逗号与前面的隔开。 第五步 保存配置，然后点击主界面右上角按钮将 Surge 4 停止，再点击按钮重新启动一次。 注：对于方案二，还需要更新一次“外部资源”，以保证从 GitHub 上获取到最新的脚本。 第六步 保持 Surge 4 一直后台开启，打开崩坏3，登录米哈游账号，在服务器列表切换至“安卓国服”，即可在 iOS 端跨服登录安卓国服。 结语 最后，祝大家在崩坏3中玩老婆玩得愉快！ 来自八重樱的祝福： 舰长补给全保底，舰长副本零掉落！ ","link":"https://mornwind.github.io/post/Honkai3-iOS-Switch-Server-Guide/"},{"title":"「崩坏3」跨服配置（Surge 4 / Quan X / Loon）（iOS客户端 → 官服服务器）","content":" By: Mornwind GitHub Link: BH3_Region_Selector 参考来源 ① 霞ヶ丘詩羽x：B站专栏（cv3610324） ② FlintyLemming：QX规则订阅（注：服务器维护中，暂无法访问。） ⚠️ 注意事项 ⚠️ 本项目内所提到的所有客户端与服务器，均为国服。 目前跨服只可在官服之间跨。渠道服由于账号系统不同以及游戏包体中的登录器不同，现阶段没有找到方法跨服，只能通过在PC端上扫码进行登录这种方式，敬请见谅。 **本项目中关于渠道服的部分，仅作学习参考，尚起不到实际用途。**目前在PC端账号密码登录方式的服务器列表中，实际上是包含四个渠道服的，但是全都被官方隐藏了，目前应该是还没准备好（第2点里面已经说了原因）。所以就算手动解除了隐藏状态，也是登录不进去的。 &quot;进阶使用（脚本法）&quot;中，跨服脚本中并未含有用于修改游戏内数据以获得不正当收益的作弊内容，只是用来切换服务器，故理论上不会被封号。跨服脚本代码公开透明地存放于本项目中，欢迎随时进行检查。如若不放心，还请使用&quot;新手使用（重定向法）&quot;，或者另寻他法。 效果预览 配置信息 ⑴ 新手使用（重定向法） 默认全平台列表（本身就是完整列表，由官方云端控制，只不过账号密码登录方式中隐藏了渠道服入口）。 仅使用 URL 重定向（URL Rewrite） 功能实现。 ① Surge 4 / Loon [URL Rewrite] # 获取全平台服务器列表 ^https:\\/\\/global(.+?)\\.bh3\\.com\\/query_dispatch\\?version=(\\d*\\.\\d*\\.\\d*)_gf_(.*)&amp;t=(\\d*) https://global$1.bh3.com/query_dispatch?version=$2_gf_pc 302 # 改写连入服务器的客户端标识 # &gt; 官服 # &gt;&gt; 安卓国服 ^http:\\/\\/106\\.14\\.51\\.73\\/query_gameserver\\?version=(\\d*\\.\\d*\\.\\d*)_gf_(.*)&amp;t=(\\d*)&amp;uid=(\\d*) http://106.14.51.73/query_gameserver?version=$1_gf_android&amp;t=$3&amp;uid=$4 header # &gt;&gt; iOS国服 ^http:\\/\\/139\\.224\\.7\\.27\\/query_gameserver\\?version=(\\d*\\.\\d*\\.\\d*)_gf_(.*)&amp;t=(\\d*)&amp;uid=(\\d*) http://139.224.7.27/query_gameserver?version=$1_gf_ios&amp;t=$3&amp;uid=$4 header # &gt;&gt; 全平台（桌面）服 ^http:\\/\\/106\\.15\\.162\\.73\\/query_gameserver\\?version=(\\d*\\.\\d*\\.\\d*)_gf_(.*)&amp;t=(\\d*)&amp;uid=(\\d*) http://106.15.162.73/query_gameserver?version=$1_gf_pc&amp;t=$3&amp;uid=$4 header # &gt; 渠道服（详见说明文档最前面的&quot;注意事项&quot;部分） # &gt;&gt; Bilibili服 ^http:\\/\\/139\\.196\\.248\\.220\\/query_gameserver\\?version=(\\d*\\.\\d*\\.\\d*)_gf_(.*)&amp;t=(\\d*)&amp;uid=(\\d*) http://139&gt;.196.248.220/query_gameserver?version=$1_gf_pc&amp;t=$3&amp;uid=$4 header # &gt;&gt; 应用宝服 ^http:\\/\\/115\\.159\\.20\\.29\\/query_gameserver\\?version=(\\d*\\.\\d*\\.\\d*)_gf_(.*)&amp;t=(\\d*)&amp;uid=(\\d*) http://115.159.20.29/query_gameserver?version=$1_gf_pc&amp;t=$3&amp;uid=$4 header # &gt;&gt; 渠道1服 ^http:\\/\\/139\\.196\\.248\\.218\\/query_gameserver\\?version=(\\d*\\.\\d*\\.\\d*)_gf_(.*)&amp;t=(\\d*)&amp;uid=(\\d*) http://139.196.248.220/query_gameserver?version=$1_gf_pc&amp;t=$3&amp;uid=$4 header # &gt;&gt; 渠道2服 ^http:\\/\\/139\\.196\\.248\\.219\\/query_gameserver\\?version=(\\d*\\.\\d*\\.\\d*)_gf_(.*)&amp;t=(\\d*)&amp;uid=(\\d*) http://139.196.248.220/query_gameserver?version=$1_gf_pc&amp;t=$3&amp;uid=$4 header [MITM] hostname = global*.bh3.com ② Quantumult X [rewrite_remote] # 新手直接订阅使用，无需自行更动 https://raw.githubusercontent.com/Mornwind/BH3_Region_Selector/master/bh3_region_rewrite.conf, tag=BH3 Region Rewrite, enabled=true ⑵ 进阶使用（脚本法） 自定义服务器列表，可调整顺序、删去多余服务器。 仅使用 脚本（Script） 功能实现。 ① Surge 4 / Loon [Script] # 自定义服务器列表 http-response ^https:\\/\\/global(.+?)\\.bh3\\.com\\/query_dispatch\\?version=.* requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/Mornwind/BH3_Region_Selector/master/bh3_region_list.js # 改写连入服务器的客户端标识 http-request ^http:\\/\\/(.*)\\/query_gameserver\\?version=.* requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/Mornwind/BH3_Region_Selector/master/bh3_region_selector.js [MITM] hostname = global*.bh3.com ② Quantumult X [rewrite_local] # 自定义服务器列表 ^https:\\/\\/global(.+?)\\.bh3\\.com\\/query_dispatch\\?version=.* url script-response-body bh3_region_list.js # 改写连入服务器的客户端标识 ^http:\\/\\/(.*)\\/query_gameserver\\?version=.* url script-request-header bh3_region_selector.js [MITM] hostname = *.bh3.com 附录1：App 商店链接 游戏本体 崩坏3 代理&amp;抓包工具 Surge 4 Quantumult X Loon 抓包工具 Thor HTTP HTTP Catcher 附录2：崩坏3国服客户端标识 以下为分别连接不同的国服服务器时，有效的客户端标识。 官服 安卓国服：gf_android，gf_pc iOS国服：gf_ios，gf_pc 全平台（桌面）服：gf_pc，gf_android，gf_ios 渠道服 Bilibili服：gf_pc，gf_android_bilibili 应用宝服：gf_pc，gf_android_tencent 渠道1服：gf_pc，gf_android_coolpad，gf_android_gionee，gf_android_huawei，gf_android_lenovo，gf_android_oppo，gf_android_vivo 渠道2服：gf_pc，gf_android_qihoo，gf_android_uc，gf_android_wandoujia，gf_android_xiaomi 测试服（需搭配测试专用客户端） 安卓测试服：beta iOS测试服：beta_ios 附录3：崩坏3服务器状态标识 推荐：&quot;server_state&quot;: &quot;Recommend&quot; 隐藏：&quot;server_state&quot;: &quot;HIDE&quot; ","link":"https://mornwind.github.io/post/Honkai3-iOS-Switch-Server-Profile/"}]}